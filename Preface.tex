%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Own work declaration %%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\cleardoublepage
%%%%%\insertblankpage
\section*{Own work declaration}
  Hereby I confirm that this is my own work and I referenced all sources and
  auxiliary means used and acknowledged any help that I have received from
  others as appropriate.

\vspace*{30mm}
\hspace{-6mm}\line(1,0){150}\hspace{44mm}\line(1,0){150}
\newline
(location, date)\hspace{72mm}(signature)

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Acknowledgement
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\cleardoublepage
%\insertblankpage
%\section*{Acknowledgment}
%If desired.
%
%% falls Arbeit in DEUTSCH verfasst werden soll
%% \section*{Danksagung}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Abstract
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\cleardoublepage
%%%%%\insertblankpage
\section*{Abstract}
Modern science and engineering is synonymous with optimization problems and the solution of constrained Partial Differential Equations (PDE).
In \acf{CFD} the classic approach consists of computing a flow solution, manually analyzing the results and then making decisions about design changes, the new design is then evaluated again and the whole process is being iterated until a satisfying improvement is obtained.\\
This is not only cumbersome and unattractive, but actually unfeasible for several reasons. First of all, this approach gives not indication whether an optimum design, meaning a local minima or maxima, has been found. More over, for complex geometries, identifying the right tweaks and modifications is not straightforward, and might be unintuitive. Finally, it is simply too time consuming for big and complex problems.\\
The goal is therefore to do a fully automated gradient based optimization. This thesis deals with the derivation of those gradients. Particularly we look into viscous as well as turbulent flows and also generalize from a body-fitted formulation to an immersed boundary framework(FIVER). This thesis solemnly concerns fully analytic \acf{SA} for a number of reasons. Compared to \acf{FD} based gradients, there is no error introduced in the gradient formulation. Moreover, only one steady state solution is necessary to obtain the gradient field. Additionally analytic gradients are generally more stable to compute than their \acf{FD} counterparts. Finally, for the embedded formulation, we will show that \ac{FD} sensitivities are not even well defined.\\
The thesis provides a general overview over the solution of flow problems via \ac{FV} methods and introduces the immersed boundary method and its implementation in details. Then its provides the general concepts of \ac{SA} in the fluid context. Details on the implementation on both body-fitted grids as well as immersed boundaries are also given.  The thesis concludes with a verification of the implemented sensitivities. We have been able to validate the implementation of both the body-fitted and the embedded analytic sensitivities against classical \ac{FD} based ones. We close with a future outlook ans some final remarks.


\newpage

% falls Arbeit in DEUTSCH verfasst werden soll
\section*{Zusammenfassung}
In der modernen Wissenschafts- und Ingenieurswelt ist die Lösung von Optimierungsproblemen auf Basis partieller Differentialgleichung unverzichtbar geworden.
In der numerischen Fluidmechanik besteht der klassische Ansatz darin eine Lösung zu berechnen. Auf Basis dieser Lösung trifft der erfahrene Ingenieur Designentscheidungen. Das neue Design wird dann erneut evaluiert, und dieser Prozess solange iteriert bis eine zufriedenstellende L\"osung gefunden wurde.\\
Diese Methode hat jedoch entscheidende Nachteile, sie ist nicht nur unattraktive sondern auch unpraktikabel. Zum einen gibt es keine Indikatoren dafür, dass tats\"achlich eine, in einem Gewissen Sinne, optimale L\"osung gefunden wurde. Darueberhinaus kann es für komplexe Geometrien und Str\"omungsfelder \"außerst schwierig sein Entscheidungen über Design\"anderungen zu treffen, auch deshalb weil korrekte Verbesserungen oftmals un-intuitiv erscheinen k\"onnen. Zu guter Letzt ist dieser Ansatz für praktische, große und komplexe Probleme zu Zeitaufw\"andig\\
Die L\"osung kann daher nur in einer automatisierten, Gradienten-basierten Optimierung liegen. Das ist die Motivation f\"ur die hier pr\"asentierte Arbeit. Im speziellen betrachten wir viskose und turbulente Str\"omungen und verallgemeinern unsere Formulierungen auch von einer konformen Netz Formulierung hin zu einer eingebetten nicht konformen(FIVER). Die Thesis befasst sich ausschließlich mit analytisch hergeleiteten Gradienten; diese haben entscheidende Vorteile. Zum einen wird durch eine analytische Evaluierung nicht bereits in der Formulierung der Sensitivit\"aten ein Approximationsfehler eingebracht. Des weiteren, ben\"otigt eine analytische Gradienten Evaluierung lediglich eine konvergierte Fluid L\"osung, im Gegensatz zum Finite Differenzen Ansatz, und ist somit günstiger. Nicht zu untersch\"atzen ist auch der Gewinn an Stabilit\"at; in der Tat werden wir im Kontext der eingebetteten Randbedingungen zeigen, dass Finite Differenzen Gradienten nicht immer wohl definiert sind.\\
Diese Arbeit stellt am Beginn einen generellen Überblick über die L\"osung von Stroemungsproblemen im Kontext von Finite Volumen Methoden bereit. Im Anschluss wird das Konzept der eingebetteten Randbedingungen n\"aher beleuchtet, und die wichtigsten Implementierungsdetails diskutiert. Generell werden in dieser Arbeit sowohl die konformen als auch die eingebetteten Randbedingung behandelt. Im Anschluss werden die Grundgleichungen der Sensitivit\"atsanalyse vorgestellt und einzelne Terme, beziehungsweise deren Herleitung, n\"aher betrachtet. Die Thesis schließt mit einer Validierung der implementierten analytischen im Vergleich zu klassisch Finite Differenzen basierten Gradienten ab, und gibt noch einen kurzen Ausblick über m\"ogliche zukünftige Entwicklungen.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Table of content
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\cleardoublepage
%%%%%\insertblankpage
\tableofcontents

% add lists as required - ask your supervisor

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% List of figures
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\cleardoublepage
%%%%%\insertblankpage
\listoffigures

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% List of tables
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\cleardoublepage
%\insertblankpage
%\listoftables

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% List of symbols
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\cleardoublepage
%\insertblankpage

% either by hand or find fancy macro and let me know :o)